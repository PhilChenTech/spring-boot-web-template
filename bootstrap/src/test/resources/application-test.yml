# 測試環境配置 - 純 Mock 測試，不使用任何資料庫
spring:
  # 禁用資料庫自動配置
  autoconfigure:
    exclude:
      - org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration
      - org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration
      - org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration
      - org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration

  # 禁用 JPA
  jpa:
    hibernate:
      ddl-auto: none
  
  # 測試環境安全配置（關閉安全以簡化測試）
  security:
    user:
      name: test-admin
      password: test-password
      roles: ADMIN

# 測試環境日誌設定
logging:
  level:
    com.nicenpc: DEBUG
    org.springframework.web: DEBUG
    org.springframework.test: INFO

# 測試環境服務器設定
server:
  port: 0  # 隨機端口

# 關閉 Actuator 以簡化測試
management:
  endpoints:
    enabled-by-default: false
  endpoint:
    health:
      enabled: true
cors:
  allowed-origins: http://localhost:3000